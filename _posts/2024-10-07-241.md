---
categories:
- AI/ML
- Notes
date: 2024-10-07 22:59:25 +0900
tags:
- Database
- faiss
- llm
- vector
- vectordb
title: '[Vector DB] 벡터 DB 설명, 목적'
uid: 241
---

## **Vector DB란?**

### 개요

벡터 데이터베이스(Vector Database)는 고차원 벡터를 저장하고, 이를 기반으로 유사도를 계산하여 빠르게 검색할 수 있는 데이터베이스이다. 벡터(Vector)는 고차원 공간에서 특정 데이터(텍스트, 이미지, 오디오 등)를 임베딩 형태로 표현한 값으로, 벡터 DB는 이러한 벡터를 인덱싱하여 빠르게 유사성 검색을 수행할 수 있도록 한다.

벡터 DB는 데이터 간의 **`유사성`**을 기반으로 검색을 수행한다. 이는 이미지, 텍스트 등 다양한 형태의 비정형 데이터를 벡터화하여 검색할 때 유용하게 사용된다. 예를 들어, 이미지 검색에서는 사용자가 업로드한 이미지와 비슷한 이미지를 찾고, 텍스트 기반 검색에서는 의미적으로 유사한 문서를 찾을 수 있다.

![스크린샷 2024-10-07 오후 1.00.52.png](https://i.imgur.com/qWqSTdD.png)

*출처: [https://bigdataanalyticsnews.com/what-is-vector-database/](https://bigdataanalyticsnews.com/what-is-vector-database/)*

### Vector DB 사용 목적

벡터 DB의 주요 목적은 대규모 데이터에서 **유사성 기반 검색**을 빠르고 효율적으로 수행하는 것이다. 기존의 전통적인 데이터베이스에서 정형 데이터를 검색하는 것과 달리 비정형 데이터에서는 그 의미나 유사성을 파악하여 관련 데이터를 검색하는 것이 중요하다. 벡터 DB는 이러한 유사성 검색 문제를 해결하기 위해 설계되었다.

벡터 DB는 고차원 벡터 공간에서 데이터의 위치를 기준으로 검색을 수행하며, 이 때 중요한 것은 벡터 간의 **유사도** 이다. 유사도 계산은 주로 코사인 유사도(Cosine Similarity), 유클리디안 거리(Euclidean Distance) 방법으로 이루어진다. 이러한 유사도 계산을 통해 대규모 데이터 집합에서 입력 데이터와 가장 유사한 항목을 빠르게 검색할 수 있다.

### **응용 분야**

- **텍스트 유사성 검색**: 대규모 문서 집합에서 특정 쿼리와 의미적으로 유사한 문서를 검색.
- **이미지 검색**: 사용자가 업로드한 이미지와 유사한 이미지를 찾기 위한 콘텐츠 기반 검색.
- **추천 시스템**: 사용자 선호도와 유사한 제품이나 콘텐츠를 추천.
- **음성 인식 및 검색**: 음성 데이터의 벡터화 후 유사한 패턴을 검색.

![스크린샷 2024-10-07 오후 1.11.26.png](https://i.imgur.com/6SujYGi.png)

*출처: https://blog.gopenai.com/vector-database-empowering-next-gen-applications-c1df8b24631c*

## Vector DB 종류

### **FAISS (Facebook AI Similarity Search)**

FAISS는 Facebook AI에서 개발한 오픈소스 라이브러리로, 대규모 벡터 검색을 위한 빠르고 효율적인 인덱싱 및 검색 기능을 제공한다. GPU 가속을 지원해 수억 개의 벡터를 매우 빠르게 검색할 수 있으며, 특히 고차원 벡터에서 뛰어난 성능을 발휘한다. FAISS는 로컬에서의 벡터 검색에 많이 사용되며, 대규모 데이터셋에서 유사성 검색을 해야 할 때 적합하다.

### **Milvus**

Milvus는 벡터 데이터 관리를 위한 오픈소스 벡터 DBMS로, 고성능 실시간 검색을 지원한다. Milvus는 대규모 클러스터 환경에서도 확장 가능한 벡터 DB로 설계되어 있으며, 자연어 처리, 이미지 검색, IoT 데이터 분석 등 다양한 사용 사례에 적합하다. 특히 분산 시스템에서의 안정적인 성능을 제공하며, AI 응용 프로그램에서 실시간 데이터를 처리할 수 있도록 최적화되어 있다.

### **Pinecone**

Pinecone은 클라우드 기반의 벡터 검색 서비스로, 인프라 관리 없이 간편하게 벡터 DB를 사용할 수 있도록 지원한다. Pinecone은 자동으로 인덱스 최적화, 확장성, 보안 등의 기능을 제공하므로 개발자는 검색 알고리즘에만 집중할 수 있다. 특히 SaaS 기반으로 벡터 검색을 쉽게 구축하고 운영하고 싶을때 적합하다.

### **Weaviate**

Weaviate는 오픈소스 벡터 DB로, 다양한 데이터 유형(텍스트, 이미지 등)을 벡터로 저장하고 검색할 수 있다. Weaviate의 강점은 **멀티모달 데이터** 지원으로, 서로 다른 유형의 데이터를 결합해 검색할 수 있다는 점이다. 또한 GraphQL 기반의 API를 제공해 복잡한 질의를 쉽게 처리할 수 있다.

### **Annoy (Approximate Nearest Neighbors Oh Yeah)**

Annoy는 Spotify에서 개발한 벡터 유사성 검색 라이브러리로, 주로 대규모 추천 시스템에서 사용된다. Annoy는 메모리 사용량이 적고 검색 속도가 빠르다는 장점이 있지만, 인덱스 구축에 시간이 많이 걸릴 수 있다. 다차원 벡터를 효율적으로 저장하고 검색할 수 있도록 설계되었으며, CPU 기반 환경에서도 좋은 성능을 발휘한다.

### **각 DB 간 비교**

| 특성 | **FAISS** | **Milvus** | **Pinecone** | **Weaviate** | **Annoy** |
| --- | --- | --- | --- | --- | --- |
| **배포 방식** | 로컬 (GPU 가속 지원) | 클라우드 및 온프레미스 | 클라우드 기반 SaaS | 클라우드 및 온프레미스 | 로컬 |
| **확장성** | 제한적 (클러스터링 없음) | 고도 확장 가능 | 고도 확장 가능 | 고도 확장 가능 | 제한적 |
| **데이터 유형** | 텍스트, 이미지 | 텍스트, 이미지, 오디오 | 텍스트, 이미지, 오디오 | 텍스트, 이미지, 멀티모달 | 텍스트, 이미지 |
| **인덱스 방식** | IVF, HNSW | IVF, HNSW, PQ | 자동 관리 | HNSW | K-D Tree |
| **사용 용이성** | 개발자 친화적 | 설정 복잡 | 매우 간편 | 설정 복잡 | 매우 간단 |

위 표에서 볼 수 있듯이 각 벡터 DB는 배포 방식, 확장성, 지원하는 데이터 유형, 인덱스 방식, 사용 용이성 측면에서 차이가 있다. 프로젝트의 요구 사항에 맞춰 적합한 DB를 선택하는 것이 중요하다.

## Vector DB의 원리

벡터 DB의 핵심은 **고차원 벡터**를 저장하고 효율적으로 검색할 수 있는 인덱싱 기법이다. 전통적인 DB가 키-값 기반의 저장 및 검색을 수행하는 반면, 벡터 DB는 벡터 공간에서 데이터를 **유사성**에 따라 검색하는 데 최적화되어 있다. 벡터 DB는 다음과 같은 주요 구성 요소로 나뉜다.

- **벡터 저장소**
    
    벡터 DB의 가장 기본적인 기능은 벡터 데이터를 저장하는 것이다. 각 데이터는 고차원 벡터로 변환된 후 벡터 저장소에 저장된다. 이 저장소는 메모리 기반일 수도 있고 디스크 기반일 수도 있으며, 저장된 벡터는 인덱싱된 상태로 검색이 가능하다.
    
- **인덱싱**
    
    벡터 데이터를 효율적으로 검색하기 위해서는 적절한 인덱싱 기법이 필요하다. 벡터 DB에서는 보통 **LSH(Locality-Sensitive Hashing)**, **IVF(Inverted File)**, **HNSW(Hierarchical Navigable Small World)** 등의 인덱싱 방법을 사용해 고차원 벡터 간의 유사도를 빠르게 계산한다. 각 인덱싱 기법은 검색 속도, 정확성, 메모리 사용량 등에서 차이가 있다.
    
- **유사성 검색**
    
    벡터 DB의 검색 엔진은 벡터 간의 유사성을 기반으로 데이터를 검색한다. 이 과정에서 주로 **코사인 유사도(Cosine Similarity)**, **유클리디안 거리(Euclidean Distance)** 등을 사용해 쿼리와 데이터 간의 유사성을 계산하고, 가장 가까운 데이터를 반환한다. 검색 엔진의 성능은 인덱스의 설계와 밀접하게 연결되어 있다.
    

> 이번 글을 통해 VectorDB의 개념과 사용 목적 그리고 종류와 원리에 대해 간단하게 알아봤다. 다음 글에서는 FAISS를 통해 벡터를 어떻게 인덱싱하고 사용하는지 코드를 통해 좀 더 자세히 확인해본다.
{: .prompt-tip }

## 참고자료

[1] https://blog.gopenai.com/vector-database-empowering-next-gen-applications-c1df8b24631c